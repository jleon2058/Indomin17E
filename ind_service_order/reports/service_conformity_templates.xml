<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="report_service_conformity_document">
        <t t-call="web.html_container">
            <t t-call="web.internal_layout">
                <t t-foreach="docs" t-as="doc">
                    <table style="width:100%; border-collapse:collapse; font-family:Arial">
                        <tr>
                            <td rowspan="4" style="border:1px solid black; padding:5px; text-align:center;"><strong>CONFORMIDAD DEL SERVICIO</strong></td>
                        </tr>
                        <tr>
                            <td style="background-color:#f0f0f0; border:1px solid black; padding:5px;"><strong>EXCELENTE</strong></td>
                            <td style="border:1px solid black; padding:5px; text-align:center;"><t t-esc="'X' if doc.quality_service == 'excellent' else ''"/></td>
                        </tr>
                        <tr>
                            <td style="background-color:#f0f0f0; border:1px solid black; padding:5px;"><strong>BUENO</strong></td>
                            <td style="border:1px solid black; padding:5px; text-align:center;"><t t-esc="'X' if doc.quality_service == 'good' else ''"/></td>
                        </tr>
                        <tr>
                            <td style="background-color:#f0f0f0; border:1px solid black; padding:5px;"><strong>POR MEJORAR</strong></td>
                            <td style="border:1px solid black; padding:5px; text-align:center;"><t t-esc="'X' if doc.quality_service == 'regular' else ''"/></td>
                        </tr>
                    </table>
                    <br></br>

                    <table style="width:100%; border-collapse:collapse; font-family:Arial;">
                        <tr>
                            <td style="background-color:#f0f0f0; border:1px solid black; padding:5px;"><strong>Conformidad</strong></td>
                            <td style="border:1px solid black; padding:5px;"><t t-esc="doc.name or ''"/></td>
                            <td style="background-color:#f0f0f0; border:1px solid black; padding:5px;"><strong>Solicitante</strong></td>
                            <td style="border:1px solid black; padding:5px;"><t t-esc="doc.requested_by.name or ''"/></td>
                        </tr>
                        <tr>
                            <td style="background-color:#f0f0f0; border:1px solid black; padding:5px;"><strong>Orden de servicio</strong></td>
                            <td style="border:1px solid black; padding:5px;"><t t-esc="doc.service_order_id.name or ''"/></td>
                            <td style="background-color:#f0f0f0; border:1px solid black; padding:5px;"><strong>Departamento</strong></td>
                            <td style="border:1px solid black; padding:5px;"><t t-esc="doc.requested_by.department_id.name or ''"/></td>
                        </tr>
                        <tr>
                            <td style="background-color:#f0f0f0; border:1px solid black; padding:5px;"><strong>Fecha de Solicitud</strong></td>
                            <td style="border:1px solid black; padding:5px;"><t t-esc="doc.application_date or ''"/></td>
                            <td style="background-color:#f0f0f0; border:1px solid black; padding:5px;"><strong>job_title</strong></td>
                            <td style="border:1px solid black; padding:5px;"><t t-esc="doc.job_title or ''"/></td>
                        </tr>
                        <tr>
                            <td style="background-color:#f0f0f0; border:1px solid black; padding:5px;"><strong>Fecha de Aprobación</strong></td>
                            <td style="border:1px solid black; padding:5px;"><t t-esc="doc.approval_date or ''"/></td>
                            <td style="background-color:#f0f0f0; border:1px solid black; padding:5px;"><strong>Correo Electrónico</strong></td>
                            <td style="border:1px solid black; padding:5px;"><t t-esc="doc.email or ''"/></td>
                        </tr>
                    </table>

                    <h4 style="margin-top:20px;">Datos del Servicio</h4>
                    
                    <table style="width:100%; border-collapse:collapse; font-family:Arial;">
                        <tr>
                            <td style="background-color:#f0f0f0; border:1px solid black; padding:5px;"><strong>Fecha de Solicitud de la OT</strong></td>
                            <td style="border:1px solid black; padding:5px;"><t t-esc="doc.create_date_ot or ''"/></td>
                            <td style="background-color:#f0f0f0; border:1px solid black; padding:5px;"><strong>Fecha de Aprobación de la OT</strong></td>
                            <td style="border:1px solid black; padding:5px;"><t t-esc="doc.approval_date_ot or ''"/></td>
                        </tr>
                        <tr>
                            
                            <td style="background-color:#f0f0f0; border:1px solid black; padding:5px;"><strong>Fecha de Entrega de Almacén</strong></td>
                            <td style="border:1px solid black; padding:5px;"><t t-esc="doc.warehouse_delivery_date or ''"/></td>
                            <td style="background-color:#f0f0f0; border:1px solid black; padding:5px;"><strong>Coste Total de Servicio </strong></td>
                            <td style="border:1px solid black; padding:5px;"><t t-esc="doc.total_cost or ''"/></td>            
                        </tr>                
                    </table>
                    
                    <h4 style="margin-top:20px;">Ordenes de Compra</h4>
                        
                    <table style="width:100%; border: 1px solid black; border-collapse: collapse;">
                            <thead>
                                <tr style="background-color:#f0f0f0;">
                                    <th style="border: 1px solid black; padding:5px;"><strong>Número OC</strong></th>
                                    <th style="border: 1px solid black; padding:5px;"><strong>Descripción OC</strong></th>
                                    <th style="border: 1px solid black; padding:5px;"><strong>Proveedor</strong></th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-foreach="doc.purchase_order_line_ids" t-as="part">
                                    <tr style="text-align:center;">
                                        <td style="border: 1px solid black; padding:5px;"><t t-esc="part.order_id.name" /></td>
                                        <td style="border: 1px solid black; padding:5px;"><t t-esc="part.name" /></td>
                                        <td style="border: 1px solid black; padding:5px;"><t t-esc="part.partner_id.name" /></td>
                                    </tr>
                                </t>
                            </tbody>
                    </table>

                    <h4 style="margin-top:20px;">Solicitudes de Recojo</h4>

                    <table style="width:100%; border: 1px solid black; border-collapse: collapse;">
                            <thead>
                                <tr style="background-color:#f0f0f0;">
                                    <th style="border: 1px solid black; padding:5px;"><strong>Número OC</strong></th>
                                    <th style="border: 1px solid black; padding:5px;"><strong>Fecha Recojo</strong></th>
                                </tr>
                            </thead>
                            <tbody>
                                <t t-foreach="doc.pickup_orders_ids" t-as="part">
                                    <tr style="text-align:center;">
                                        <td style="border: 1px solid black; padding:5px;"><t t-esc="part.purchase_order_id.name" /></td>
                                        <td style="border: 1px solid black; padding:5px;"><t t-esc="part.datetime_recogido" /></td>
                                    </tr>
                                </t>
                            </tbody>
                    </table>
                </t>
            </t>
        </t>
    </template> 
</odoo>               